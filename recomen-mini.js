function register(a,b){console.log("registering ren"),document.cookie="ren_ak="+a+";domain="+window.location.hostname+";samesite=strict;",document.cookie="ren_bi="+b+";domain="+window.location.hostname+";samesite=strict;"}function event(a,b,c){if("undefined"==typeof ren_track){var d=getCookie("ren_ak");ren_track=predictionio(d,{})}if("buy"===a){var e=getCookie("ren_bi");console.log("buying "+b+" "+c+" "+e),ren_track.buy({uid:e+";"+b,iid:e+";"+c},function(){})}else if("view"===a){var e=getCookie("ren_bi");console.log("viewing "+b+" "+c+" "+e),ren_track.view({uid:e+";"+b,iid:e+";"+c},function(){})}else console.log("undefined event_name")}function getCookie(a){for(var b=a+"=",c=decodeURIComponent(document.cookie),d=c.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1);if(0==f.indexOf(b))return f.substring(b.length,f.length)}return""}var predictionio=function(a,b){function i(a,b){var c=new Date,d=k(c)+"T"+j(c)+m(c),e={event:a,entityType:"user",entityId:b.uid+"",targetEntityType:"item",targetEntityId:b.iid+"",eventTime:d};return e}function j(a){var b=a.getHours(),c=a.getMinutes(),d=a.getSeconds(),e=a.getMilliseconds();b=b<10?"0"+b:b,c=c<10?"0"+c:c,d=d<10?"0"+d:d,e=e<10?"00"+e:e<100?"0"+e:e;var f=b+":"+c+":"+d+"."+e;return f}function k(a){var b=a.getFullYear(),c=a.getMonth()+1,d=a.getDate();c=c<10?"0"+c:c,d=d<10?"0"+d:d;var e=b+"-"+c+"-"+d;return e}function l(a,b){for(var c=""+a;c.length<b;)c="0"+c;return c}function m(a){var b=(new Date).getTimezoneOffset();return b=(b<0?"+":"-")+l(parseInt(Math.abs(b/60)),2)+":"+l(Math.abs(b%60),2)}var d,c={},e="http://localhost:8082/",f="events";if(!a)throw new Error("An app key is required to use the API.");d=a,"undefined"!=typeof b&&"undefined"!=typeof b.host&&(e=b.host);var g=function(a,b,c,f){var h=new XMLHttpRequest;if("undefined"!=typeof f?h.onreadystatechange=function(){if(4==h.readyState&&2==Math.floor(h.status/100)){var a=JSON.parse(h.responseText);f(a)}}:h.onreadystatechange=function(){if(4==h.readyState&&2==Math.floor(h.status/100)){var a=JSON.parse(h.responseText);console.log(a)}},"GET"===b)console.log("not implemented yet");else{if("POST"!==b)throw new Error("Invalid HTTP method: ".concat(b));var i=e.concat(a,"?","accessKey="+d);h.open(b,i),h.setRequestHeader("Content-type","application/json"),h.send(JSON.stringify(c))}},h=function(a,b,c){for(var d=[],e=0;e<b.length;e++)"undefined"==typeof a[b[e]]&&d.push(b[e]);if(d.length>0){var f=d.join(", ");throw new Error("The following required parameters for ".concat(c," are missing: ",f))}};return c.buy=function(a,b){h(a,["uid","iid"],"buy");var c=i("buy",a);g(f.concat(".json"),"POST",c,b)},c.view=function(a,b){h(a,["uid","iid"],"buy");var c=i("view",a);g(f.concat(".json"),"POST",c,b)},c},ren_track;window.ren=window.ren||function(){(ren.q=ren.q||[]).push(arguments)};var qq=window.ren.q;window.ren=function(){if("exec"===arguments[0])for(var a=0;a<qq.length;a++){var b=qq[a];"register"==b[0]?register(b[1],b[2]):event(b[0],b[1],b[2])}else"register"==arguments[0]?register(arguments[1],arguments[2]):event(arguments[0],arguments[1],arguments[2])},ren("exec");